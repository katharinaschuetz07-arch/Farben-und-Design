<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Fit mit 6 Bit - Lern-App</title>
<style>
:root {
    --bg-black: #0a0a0a;
    --card-bg: #161616;
    --accent-red: #cc0000;
    --accent-red-dim: rgba(204, 0, 0, 0.25);
    --text-white: #ffffff;
    --text-gray: #888888;
    --nav-bg: #121212;
    --border: #222222;
}

html, body {
    margin:0;
    padding:0;
    height:100%;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background-color: var(--bg-black);
    color: var(--text-white);
    display: flex;
    flex-direction: column;
    align-items: center;
}

header {
    width:100%;
    padding:15px 0;
    text-align:center;
    background: var(--nav-bg);
    border-bottom:1px solid var(--border);
    flex-shrink:0;
}

h1 { color: var(--accent-red); margin:0; font-size:1.6rem; letter-spacing:1px; font-weight:800; }
.version-label { font-size:0.75rem; color:var(--text-gray); margin-top:4px; }

#instructionText {
    max-width: 450px;
    text-align: center;
    font-size: 1.1rem;
    margin: 10px auto;
    color: var(--text-gray);
    min-height: 2.5em;
    flex-shrink:0;
}

.game-controls {
    display: flex;
    gap: 15px;
    width:90%;
    max-width:400px;
    margin:10px auto;
    flex-shrink:0;
    flex-wrap: wrap;
}

.btn-game { flex:1; padding:18px; border-radius:12px; border:none; font-weight:bold; font-size:1.2rem; cursor:pointer; color:white; }
.btn-yes { background-color:#1b5e20; }
.btn-no { background-color:#b71c1c; }

.card-container {
    width:90%;
    max-width:550px;
    height:480px;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-shrink:0;
}

.card {
    width:100%;
    height:100%;
    background: var(--card-bg);
    border-radius: 30px;
    border: 2px solid var(--border);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 25px;
    box-sizing: border-box;
    box-shadow: 0 20px 60px rgba(0,0,0,1);
    text-align: center;
    cursor: pointer;
}

.number-grid { 
    display:grid; 
    grid-template-columns:repeat(4,1fr); 
    gap:23px; 
    width:100%; 
}

.number-grid div {
    font-size: clamp(1.3rem,5vw,1.8rem);
    font-weight:900;
    color:var(--accent-red);
    background:var(--accent-red-dim);
    display:flex; justify-content:center; align-items:center;
    aspect-ratio:1/1;
    border-radius:12px;
    border:1px solid rgba(204,0,0,0.2);
}

.info-text { font-size:1.25rem; line-height:1.6; }
.info-text strong { display:block; color:var(--accent-red); margin-bottom:15px; font-size:1.5rem; }
.example-calc { color:#ff9999; font-family:monospace; font-size:1.4rem; margin-top:10px; display:block; }

.bottom-area {
    width:100%;
    background: var(--nav-bg);
    border-top:1px solid var(--border);
    display:flex;
    flex-direction:column;
    flex-shrink:0;
}

.nav-bar { display:flex; justify-content:space-around; padding:12px 0; width:100%; }
.nav-item { background:none; border:none; color:var(--text-gray); display:flex; flex-direction:column; align-items:center; font-size:0.75rem; cursor:pointer; flex:1; }
.nav-item.active { color: var(--accent-red); }
.nav-icon { font-size:1.6rem; margin-bottom:4px; }

.app-footer-text { padding:10px 15px; font-size:0.75rem; color:#888; text-align:center; line-height:1.4; border-top:1px solid #1a1a1a; }
</style>
</head>
<body>

<header>
    <h1>Fit mit 6 Bit</h1>
    <div class="version-label">Version 2.9.7</div>
</header>

<div id="instructionText">W√§hle eine Zahl zwischen (1-63). Ist sie hier?</div>

<div class="game-controls" id="gameControls">
    <button class="btn-game btn-yes" onclick="answer(true)">JA</button>
    <button class="btn-game btn-no" onclick="answer(false)">NEIN</button>
</div>

<div class="card-container">
    <div id="card" class="card">
        <div id="cardContent"></div>
    </div>
</div>

<div class="bottom-area">
    <nav class="nav-bar">
        <button class="nav-item active" id="navTrick" onclick="restart()">
            <div class="nav-icon">‚öôÔ∏è</div>
            <div>Trick</div>
        </button>
        <button class="nav-item" id="navInfo" onclick="startBinaryInfo()">
            <div class="nav-icon">üìñ</div>
            <div>Bin√§rcode</div>
        </button>
        <button class="nav-item" id="navExamples" onclick="startExamples()">
            <div class="nav-icon">üí°</div>
            <div>Beispiele</div>
        </button>
        <button class="nav-item" onclick="restart()">
            <div class="nav-icon">üîÑ</div>
            <div>Neustart</div>
        </button>
    </nav>
    <div class="app-footer-text">
        Lern-App zum Bin√§r-Code ‚Ä¢ Grundlage f√ºr den ASCII-Code ‚Ä¢ Inspiriert durch Steven ‚Ä¢ Ideal f√ºr Zaubertricks
    </div>
</div>

<script>
const bitValues=[32,16,8,4,2,1];
let cardIndex=0,currentSum=0,currentState="TRICK";
let trickOrder=[]; // Zuf√§llige Reihenfolge


const binaryCards=[
    "Was ist der Bin√§rcode?\n\nComputer nutzen nur 0 und 1.",
    "Strom an, Strom aus\n\n1 bedeutet Strom flie√üt, 0 bedeutet kein Strom.",
    "Das Bit\n\nEin Bit ist die kleinste Information.",
    "Warum 6-Bit?\n\nMit 6 Bits kann man Zahlen von 0-63 darstellen.",
    "Addition\n\nNur die Bits mit 1 z√§hlen.",
    "Grundlage ASCII\n\nDiese Zahlen bilden Buchstaben ab.",
    "\"Warum funktioniert der 6-Bit-Trick?\"\n\nDer Trick funktioniert, weil jede Zahl zwischen 1 und 63 durch die Kombination der sechs Bits eindeutig dargestellt wird. Mit den JA/NEIN-Antworten kann man die Zahl genau bestimmen.\"",
    "\"Wie ist die Logik des Tricks?\"\n\nMan zeigt nacheinander Karten mit Zahlen, die jeweils bestimmte Bit-Werte enthalten. Wer 'JA' sagt, zeigt, dass das Bit gesetzt ist. Am Ende werden alle gesetzten Bits addiert ‚Äì so entsteht die gew√§hlte Zahl.\""
];




const exampleData=[
    {title:"Zahl 1",calc:"000001",expl:"Nur das Bit mit dem Wert 1 ist aktiv."},
    {title:"Zahl 12",calc:"001100",expl:"Bits 8+4 = 12."},
    {title:"Zahl 21",calc:"010101",expl:"16+4+1=21."},
    {title:"Zahl 42",calc:"101010",expl:"32+8+2=42."},
    {title:"Zahl 29",calc:"011101",expl:"16+8+4+1=29."},
    {title:"Zahl 63",calc:"111111",expl:"Alle Bits sind an: 32+16+8+4+2+1=63."}
];

let infoIndex=0,exampleIndex=0;

function speak(text){if(window.speechSynthesis){speechSynthesis.cancel();let msg=new SpeechSynthesisUtterance(text);msg.lang='de-DE';speechSynthesis.speak(msg);}}

function setActive(id){document.querySelectorAll('.nav-item').forEach(el=>el.classList.remove('active'));if(id) document.getElementById(id).classList.add('active');}

function shuffleArray(arr){return arr.map(a=>[Math.random(),a]).sort((a,b)=>a[0]-b[0]).map(a=>a[1]);}

function showTrickCard(){
    currentState="TRICK";
    setActive('navTrick');
    const card=document.getElementById("card");
    const content=document.getElementById("cardContent");
    const controls=document.getElementById("gameControls");
    const instr=document.getElementById("instructionText");
    card.onclick=null;

    if(trickOrder.length===0){
        trickOrder = shuffleArray([...bitValues]);
        cardIndex=0;
        currentSum=0;
    }

    if(cardIndex>=trickOrder.length){
        controls.style.display="none";
        instr.innerText="Gefunden!";
        content.innerHTML=`<div class="info-text">Deine Zahl ist<br><span style="font-size:5rem;font-weight:900;color:#cc0000;">${currentSum}</span></div>`;
        speak("Deine Zahl ist "+currentSum);
        trickOrder=[];
        return;
    }

    controls.style.display="flex";
    instr.innerHTML="W√§hle eine Zahl (1-63).<br>Ist sie auf dieser Karte?";

    const bitValue = trickOrder[cardIndex];
    let nums=[];
    for(let i=1;i<64;i++){
        if(i & bitValue) nums.push(i);
    }
    // Highlight entfernt, nur normale Zahlen anzeigen
    content.innerHTML=`<div class="number-grid">${nums.map(n=>`<div>${n}</div>`).join("")}</div>`;
}

function answer(isYes){if(isYes) currentSum+=trickOrder[cardIndex]; cardIndex++; showTrickCard();}
function restart(){trickOrder=[]; showTrickCard();}
function startBinaryInfo(){currentState="INFO"; setActive('navInfo'); infoIndex=0; updateInfo();}
function updateInfo(){const card=document.getElementById("card"); const content=document.getElementById("cardContent"); document.getElementById("gameControls").style.display="none"; document.getElementById("instructionText").innerText="Tippe auf die Karte."; const parts=binaryCards[infoIndex].split("\n\n"); content.innerHTML=`<div class="info-text"><strong>${parts[0]}</strong>${parts[1]||''}</div>`; speak(binaryCards[infoIndex]); card.onclick=()=>{infoIndex++; if(infoIndex<binaryCards.length) updateInfo(); else restart();}}
function startExamples(){currentState="EXAMPLES"; setActive('navExamples'); exampleIndex=0; updateExample();}
function updateExample(){const card=document.getElementById("card"); const content=document.getElementById("cardContent"); document.getElementById("gameControls").style.display="none"; document.getElementById("instructionText").innerText="Rechenweg verstehen:"; const ex=exampleData[exampleIndex]; content.innerHTML=`<div class="info-text"><strong>${ex.title}</strong> Bin√§r: <span class="example-calc">${ex.calc}</span><br><br>${ex.expl}</div>`; speak(ex.title+". "+ex.expl); card.onclick=()=>{exampleIndex++; if(exampleIndex<exampleData.length) updateExample(); else restart();}}

showTrickCard();
</script>

</body>
</html>

